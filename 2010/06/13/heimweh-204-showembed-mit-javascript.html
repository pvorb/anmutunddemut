<!doctype html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    
  <title>Heimweh 2.0.4 – show=embed mit Javascript | anmut und demut</title>
  <meta name="Generator" content="Heimweh"/>
  <meta http-equiv="content-language" content="de" />
  <!-- Get rid of those f*ckin Bots -->
  <meta name="robots" content="noindex, nofollow" />
  <meta name="robots" content="noimageindex" />
  <meta name="googlebot" content="noindex, nofollow" />
  <meta name="DuckDuckBot" content="index, follow" />
  <meta name="description" content="anmut und demut | Kirchenlieder für die Ungläubigen seit 2001" />
  <link rel="prev" href="/2010/06/13/unser-eigenes-apollo-programm" />
  <link rel="next" href="/2010/06/13/eine-woche-macbook-pro-13-zoll" />
  <meta name="path" content="/2010/06/13/heimweh-204-showembed-mit-javascript" />
  <meta name="root" content="../../../" />
  <meta name="node-id" content="8688" />
  <meta name="node-type" content="story" />
  <meta name="created-timestamp" content="1276432710" />
  <meta name="created-string" content="13. 06. 2010 - 14:38" />
  <meta name="changed-timestamp" content="1276434485" />
  <meta name="changed-string" content="13. 06. 2010 - 15:08" />
  <meta name="creator" content="ben_" />
  <meta name="teaserimage" content="/files/heimweh-204.png" />
  <meta name="path" content="/2010/06/13/heimweh-204-showembed-mit-javascript" />
  <meta name="node-id" content="8688" />
  <meta name="node-type" content="story" />
  <meta name="created-timestamp" content="1276432710" />
  <meta name="created-string" content="13. 06. 2010 - 14:38" />
  <meta name="changed-timestamp" content="1276434485" />
  <meta name="changed-string" content="13. 06. 2010 - 15:08" />
  <meta name="creator" content="ben_" />
  <link rel="index" title="Maschinen" href="../../../ressort/maschinen" />
  <link rel="index" title="On my way to Heimweh" href="../../../serie/on-my-way-to-heimweh" />
  <link rel="index" title="HTML" href="../../../lexikon/html" />
  <link rel="index" title="Javascript" href="../../../lexikon/javascript" />
  <link rel="index" title="XLink" href="../../../lexikon/xlink" />
  <meta name="keywords" content="Maschinen, On my way to Heimweh, HTML, Javascript, XLink" />
  <link type="text/css" rel="stylesheet" media="all" href="../../../css/global.css" />
  <link type="text/css" rel="stylesheet" media="all" href="../../../css/takeshi.css" />    
  <script type="text/javascript" src="../../../js/functions.js"> </script>
</head>
<body  class="page-node sidebars-0 arg0-node arg1-8688 arg01-node-8688" onload="loader();">	
  
  <div id="header" class="region">
    <!-- start:header -->  
    <h1><a title="Startseite" href="http://anmutunddemut.de">anmut und demut</a></h1> 
    <p><span class='backandforth'><span class='headericon backwardslink'><a href="../../../2010/06/13/unser-eigenes-apollo-programm.html" title="rückwärts">«</a></span> <span class='headericon forwardslink'><a href="../../../2010/06/13/eine-woche-macbook-pro-13-zoll.html" title="vorwärts">»</a></span></span> <a title="Impressum" href="../../../seiten/impressum.html">?</a></p> 
    <!-- ende:header -->
  </div>
	
  <div id="arena" class="region">      
    <!--- start:arena -->    
      <div id="node" class="node story published full story-full with-teaserimage age-19">  
      <!-- start:node -->
      <h2>Heimweh 2.0.4 – show=embed mit Javascript</h2>

<!-- start:teaserimage -->
<p class='teaserimage'><img src='http://anmutunddemut.de/files/heimweh-204.png' alt='Heimweh 2.0.4 – show=embed mit Javascript'/></p>
<!-- ende:teaserimage -->
<p>Eine der Sachen, über die ich mich seit geraumer Zeit ärgere, ist die Tatsache, dass die Browser-Jungs nicht mehr so den rechten Elan, beim Implementieren von W3C-Standards an den Tag legen. HTML schön und gut, aber XLlink wäre mir deutlich lieber gewesen. Insbesondere das <a href="http://www.w3.org/TR/xlink/#link-behaviors">@show="embed"</a>. Das hätte mir bei Heimweh echt mal weitergeholfen. Aber … selbst ist der Mann. Das Internet ist schließlich eine einziges großes DYI-Experiment.</p>
<h3>Ajax-Manager</h3>
<p>Als erstes hab ich den <a href="http://gist.github.com/436625">ajaxManager</a> genommen, den ich mal von Jan bekommen habe. In die Funktion kann man einfach eine URL und die ID eines Elementes reinwerfen. Der Ajax-Manager holt dann das HTML von der URL ab und ersetzt das Element mit der ID im Ausgangsdokument mit dem, was es geholt hat.</p>
<h3>getElementsByAttribute</h3>
<p>Der nächste Schritt war, in einem HTML-Dokument alle Element mit einem show-Attribut zu finden, dessen Wert "embed" ist. Google hilft. <a href="http://www.codingforums.com/showthread.php?t=26744">Bei diesen Jungs</a> hab ich die Funktion "<a href="http://gist.github.com/436621">document.getElementsByAttribute</a>" gefunden. Beliebigen Attributnamen und gesuchten Attribut-Wert reinstecken, und schon bekommt man alle Elemente auf die das zutrifft als Objekte zurückgeliefert.</p>
<h3>xlink_replace_show_embed</h3>
<p>Dann nur noch beides zusammenfügen in der "<a href="http://gist.github.com/436623">xlink_replace_show_embed</a>" Funktion, die ich bequem irgendwo aufrufen kann, z.B. im OnLoad-Attribute des Body-Tags. Und schon <a href="http://anmutunddemut.de/projekte/xlink/embed.html">werden automatisch alle Inhalte wie gewünscht ersetzt</a>. Jetzt müsste ich nur noch relative URLs richtig auswerten, dann würde das sowohl online als auch offline ziemlich perfekt funktionieren.</p>
<h3>Sonntagsnachmittagsfingerübung</h3>
<p>Was eben nur als "Lass mal schauen, ob ich das nicht hinbekommen"-Sonntags-Nachmittags-Fingerübung began, konnte ich flux und mit ein paar Zeilen Code zu einer brauchbaren Lösung von ein, zwei Problemen ausbauen, die mit Heimweh bisher hatte. So macht das Spaß.</p>
<p>Damit kann ich jetzt nicht nur das Kommentar-Formular und die Kommentare aus anderen Dateien heraus einbinden, sondern auch das Teasermosaik und anderes Dekor.</p>
<p>Nachtrag an alle echten Javascript-Entwickler: Ich weiß, das ist noch gruseliger Code. Den werd ich die Tage mal gründlich überholen.</p>
<p>Nachtrag an alle Browserentwickler: Warum muss ich auf so ein Feautre ein halbes Jahrhundert warten? Warum muss ich das erst selber programmieren? Ich meine … mal bitte … das ist doch kein Hexenwerk! Pft.</p>
        
      <!-- end:node -->  
    </div>        
        
    
       
    <div id="footnotes">
      <!-- start:footnotes -->
      <hr/> 
      <h2>Fußnoten</h2>  
      <p class="meta-basics">~ Artikel vom 13. 6. 2010</p>
      <p class='meta-topics'>~  
        <span class='title'>Ressort:</span>
        <a href="../../../ressort/maschinen.html" rel="ressort">Maschinen</a>
        <span class='somespace'> </span>
        <span class='title'>Serie:</span>
        <a href="../../../serie/on-my-way-to-heimweh" rel="series">On my way to Heimweh</a>
        <span class='somespace'> </span>
        <span class='title'>Lexikon:</span>
        <a href="../../../lexikon/html.html" rel="lexicon">HTML</a>, 
        <a href="../../../lexikon/javascript.html" rel="lexicon">Javascript</a>, 
        <a href="../../../lexikon/xlink.html" rel="lexicon">XLink</a>
      </p>        
      <!-- end:footnotes -->
    </div>
    


    <div id="comments">
      <!-- start:comments -->
      <hr/>
      <h2>Kommentare</h2>

      <!-- Last Comment standing -->

      <!-- end:comments -->
    </div>

    <!-- start:comment-form -->
    <div id="comment-form" show="embed" href="http://anmutunddemut.de/php/comment-form.php">Kommentarformular hier</div>
    <!-- end:comment-form -->

    <!-- ende: arena -->  
  </div>  
      
  <div id="footer" class="region"> 
    <!-- start:footer -->
    <hr/>
    <p id="buttons">
      <a href="http://www.magpie-girl.com/small-is-beautiful-bloggers-manifesto/" ><img src="http://anmutunddemut.de/files/buttons/small_is_beautifull.jpg"  alt="small is beautifull" /></a>
      <a href="http://www.adfreeblog.org/"><img  src="http://anmutunddemut.de/files/buttons/art_not_ads.jpg" alt="art not ads"/></a> 
      <img  src="http://anmutunddemut.de/files/buttons/atomkraft_nein_danke.jpg" alt="atomkraft – nein danke" />
    </p>
    <hr/>
    <p id="minipressum">
      <span id="impressum">
        <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/de/">cc</a> 2001 - 2010
        <a href="../../../seiten/impressum.html">Benjamin Birkenhake</a>
      </span>
      <span  id="digitalistbesser" title="Rescued by Tocotronic since 1995">Digital ist besser</span>
    </p>      
    <p id="click"><img src="http://anmutunddemut.de/php/click.php" /></p>
    <!-- ende:footer -->
  </div>
    
</body>
</html>