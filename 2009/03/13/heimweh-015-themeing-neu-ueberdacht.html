<!DOCTYPE html SYSTEM "about:legacy-compat">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    
  <title>Heimweh 0.1.5. – Theming neu überdacht | anmut und demut</title>
  <meta name="Generator" content="Heimweh"/>
  <meta http-equiv="content-language" content="de" />
  <!-- Get rid of those f*ckin Bots -->
  <meta name="robots" content="noindex, nofollow" />
  <meta name="robots" content="noimageindex" />
  <meta name="googlebot" content="noindex, nofollow" />
  <meta name="DuckDuckBot" content="index, follow" />
  <meta name="description" content="anmut und demut | Kirchenlieder für die Ungläubigen seit 2001" />
  <link rel="prev" href="/2009/03/13/heimweh-014-xml-transformationen" />
  <link rel="next" href="/2009/03/26/heimat" />
  <meta name="path" content="/2009/03/13/heimweh-015-themeing-neu-ueberdacht" />
  <meta name="root" content="../../../" />
  <meta name="node-id" content="7478" />
  <meta name="node-type" content="story" />
  <meta name="created-timestamp" content="1236954988" />
  <meta name="created-string" content="13. 03. 2009 - 15:36" />
  <meta name="changed-timestamp" content="1238090688" />
  <meta name="changed-string" content="26. 03. 2009 - 19:04" />
  <meta name="creator" content="ben_" />
  <meta name="teaserimage" content="/files/heimweh-015.jpg" />
  <meta name="path" content="/2009/03/13/heimweh-015-themeing-neu-ueberdacht" />
  <meta name="node-id" content="7478" />
  <meta name="node-type" content="story" />
  <meta name="created-timestamp" content="1236954988" />
  <meta name="created-string" content="13. 03. 2009 - 15:36" />
  <meta name="changed-timestamp" content="1238090688" />
  <meta name="changed-string" content="26. 03. 2009 - 19:04" />
  <meta name="creator" content="ben_" />
  <link rel="index" title="On my way to Heimweh" href="../../../serie/on-my-way-to-heimweh" />
  <meta name="keywords" content="On my way to Heimweh" />
  <link type="text/css" rel="stylesheet" media="all" href="../../../css/global.css" />
  <link type="text/css" rel="stylesheet" media="all" href="../../../css/takeshi.css" />    
  <script type="text/javascript" src="../../../js/functions.js"> </script>
</head>
<body  class="page-node sidebars-0 arg0-node arg1-7478 arg01-node-7478" onload="loader();">	
  
  <div id="header" class="region">
    <!-- start:header -->  
    <h1><a title="Startseite" href="http://anmutunddemut.de">anmut und demut</a></h1> 
    <p><span class='backandforth'><span class='headericon backwardslink'><a href="../../../2009/03/13/heimweh-014-xml-transformationen.html" title="rückwärts">«</a></span> <span class='headericon forwardslink'><a href="../../../2009/03/26/heimat.html" title="vorwärts">»</a></span></span> <a title="Impressum" href="../../../seiten/impressum.html">?</a></p> 
    <!-- ende:header -->
  </div>
	
  <div id="arena" class="region">      
    <!--- start:arena -->    
      <div id="node" class="node story published full story-full with-teaserimage age-1">  
      <!-- start:node -->
      <h2>Heimweh 0.1.5. – Theming neu überdacht</h2>

<!-- start:teaserimage -->
<p class='teaserimage'><img src='http://anmutunddemut.de/files/heimweh-015.jpg' alt='Heimweh 0.1.5. – Theming neu überdacht'/></p>
<!-- ende:teaserimage -->
<p>Dass es mit Heimweh gerade nicht so schnell voran geht hat auch einen Vorteil – ich habe Zeit, zwei bis fünf Dinge nochmal zu überdenken. So z.B. den Menu-Router und das Theming. Jetzt läuft das so: Eine beliebige URL kommt rein. htaccess lenkt das um in eine Variable $q, die alles nach der Domain enthält. (Das hab ich mir bei Drupal abgeschaut.) Die Variabele zerlegt der Menu-Router dann in ein array $path, anhand der /. Gibt es ein Modul (eine Klasse die von der Oberklasse Module abgeleitet ist), das so heißt wie das erste Arugment in dem Array, wird dessen Methode menu() aufgerrufen.</p>
<p>Also ein Beispiel:</p>
<p>1. URL = anmutunddemut.de/node/12345<br />
2. $q = node/12345<br />
3. $path = array("node", 12345)<br />
4. Also wird in dem Objekt "$node", dass eine Instanz der Klasse "node" ist,<br />
5. die Methode "menu" aufegrufen.</p>
<p>Convention over Code.</p>
<p>In der ersten Version war das dann so gedacht, dass die Methode die $path übergeben bekam und anhand der weiteren Argumente dann entscheiden sollte, welche weiteren Funktionen in der Businesslogik ausgelöst werden sollten um schlußendlich das Rendering anzustoßen, indem die Funktion theme_call_page() aufgerufen wurde, die als Parameter den Namen des Themes, den Namen der Einstiegsseite ins Theme (index, single, archive – wie bei Wordpress) und ein Array mit allen Daten enthalten sollte, das diese page benötigt.</p>
<p>Alle anderen Daten, die nicht direkt mit dem Inhalt der Page in Verbindung stehen, wie Blöcke in der Sidebar oder dergleichen, sollte sich das Theme selber ziehen können. Ich hätte also Daten über theme_call_page() reingereicht (push) und über get-Funtkionen im Theme gezogen (pull). Das kommt mir reichlich unminimalistisch vor und eben im Zug fiel mir ein, dass, wo der Menu-Router ja schon festlegt, welche Einstiegs-Datei im Theme angesproche wird, diese sich dort auch gleich die Daten ziehen kann. Dann hätte ich dort nur noch gepullten Content. Das ist zwar alles andere als die reine Lehre aber a) ist es minimalistisch und b) kann ich dann damit sehr schön und sauber die Themes bauen.</p>
        
      <!-- end:node -->  
    </div>        
        
    
       
    <div id="footnotes">
      <!-- start:footnotes -->
      <hr/> 
      <h2>Fußnoten</h2>  
      <p class="meta-basics">~ Artikel vom 13. 3. 2009</p>
      <p class='meta-topics'>~  
        <span class='title'>Serie:</span>
        <a href="../../../serie/on-my-way-to-heimweh" rel="series">On my way to Heimweh</a>
      </p>        
      <!-- end:footnotes -->
    </div>
    


    <div id="comments">
      <!-- start:comments -->
      <hr/>
      <h2>Kommentare</h2>

      <!-- Last Comment standing -->

      <!-- end:comments -->
    </div>

    <!-- start:comment-form -->
    <div id="comment-form" show="embed" href="http://anmutunddemut.de/php/comment-form.php">Kommentarformular hier</div>
    <!-- end:comment-form -->

    <!-- ende: arena -->  
  </div>  
      
  <div id="footer" class="region"> 
    <!-- start:footer -->
    <hr/>
    <p id="buttons">
      <a href="http://www.magpie-girl.com/small-is-beautiful-bloggers-manifesto/" ><img src="http://anmutunddemut.de/files/buttons/small_is_beautifull.jpg"  alt="small is beautifull" /></a>
      <a href="http://www.adfreeblog.org/"><img  src="http://anmutunddemut.de/files/buttons/art_not_ads.jpg" alt="art not ads"/></a> 
      <img  src="http://anmutunddemut.de/files/buttons/atomkraft_nein_danke.jpg" alt="atomkraft – nein danke" />
    </p>
    <hr/>
    <p id="minipressum">
      <span id="impressum">
        <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/de/">cc</a> 2001 - 2010
        <a href="../../../seiten/impressum.html">Benjamin Birkenhake</a>
      </span>
      <span  id="digitalistbesser" title="Rescued by Tocotronic since 1995">Digital ist besser</span>
    </p>      
    <p id="click"><img src="http://anmutunddemut.de/php/click.php" /></p>
    <!-- ende:footer -->
  </div>
    
</body>
</html>